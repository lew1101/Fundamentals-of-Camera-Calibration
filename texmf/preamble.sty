\ProvidesPackage{preamble}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[
    hmargin=1in,
    vmargin=0.5in,
    letterpaper,
    includeheadfoot
]{geometry}
\usepackage[
    ibid=true,
    style=windycity,
    backend=biber
]{biblatex}
\usepackage[
    format=hang,
    font=small,
    labelfont=bf,
    figurewithin=section,
    tablewithin=section
]{caption}
\usepackage[protrusion=true, expansion=true]{microtype}
\usepackage[hidelinks]{hyperref}
\usepackage{fancyhdr}
\usepackage[indent]{parskip}
\usepackage{lastpage}
\usepackage{subcaption}
\usepackage{setspace}
\usepackage{caption}
\usepackage[title]{appendix}
\usepackage{sectsty}
\usepackage{titling}
\usepackage{ragged2e}
\usepackage{tablefootnote}
\usepackage[section]{placeins}
\usepackage{etoolbox}

\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{csquotes}
\usepackage{booktabs}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{nicefrac}

\usepackage{icomma}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage[per-mode=symbol]{siunitx}
\usepackage{array}
\usepackage{blkarray}
\usepackage{enumitem}
\usepackage{optidef}
\usepackage{relsize}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{longtable}

\usepackage{dirtree}
\usepackage[cachedir=.cache/minted]{minted}

% ======================================
% Page Styles
% ======================================

\fancypagestyle{frontmatter}{
    \pagestyle{empty}
}

\fancypagestyle{mainmatter}{
    \fancyhf{}
    \fancyhead[L]{\footnotesize\slshape\scshape\nouppercase{Section \leftmark}}
    \fancyhead[R]{\normalsize\thepage}
}

\fancypagestyle{backmatter}{
    \pagestyle{mainmatter}
    \fancyhead[L]{\footnotesize\slshape\scshape\nouppercase{\leftmark}}
}

\fancypagestyle{appendices}{
    \fancyhead[L]{\footnotesize\slshape\scshape\nouppercase{Appendix \leftmark}}
}

\usemintedstyle{igor}
\definecolor{codebg}{rgb}{0.95,0.95,0.95}
\setminted{
    breaklines,
    obeytabs,
    tabsize=2,
    python3,
    bgcolor=codebg,
    fontsize=\scriptsize,
    linenos
}

\onehalfspacing
\setstretch{1.5}

\setlength{\jot}{1.5ex}
\setlength{\headheight}{14.5pt}
\setlength\tabcolsep{4pt} % default value: 6pt
\setlength{\defaultaddspace}{10pt}

\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}
